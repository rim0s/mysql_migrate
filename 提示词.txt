帮我写个bash脚本，用于迁移mysql当前实例所在目录到其他目录。
1）程序启动时候需要使用参数 yes 以明确知晓程序功能并确认执行。
a.脚本启动检索是否有参数"yes",不存在则显示程序功能后退出程序。包含则进行下一步。
b.显示程序功能，并要求用户明确回复yes或其他对应已经了解的回复才可以继续程序。
2）判断当前系统中正在运行的mysql实例，并逐一列出。
根据系统systemd及早期服务启动管理工具的配置目录中的服务配置条目检索哪些配置文件是与检索到的已经启动的实例存在一一对应的关系。将正在运行的mysql数据库实例，监听的端口，实例文件所在目录，socket,pid，log等所在完整目录完整列出。每个实例给定一个编号并要求用户对即将迁移的数据库实例进行选择。
根据用户选择，生成下列命令（以便用户复制后粘贴执行。）：
a.逻辑备份数据库实例完整内容及对象到指定目录的命令。
b.停止对应数据库实例的命令，如 sudo systemctl stop mysqld.service 
c.拷贝数据库实例对应目录文件到指定目录的命令。（该命令需要确保文件署主、权限、selinux标志、属性等不发生变化，如有必要可生成命令组合。要求用户依次执行。）
3）执行迁移
a.要求用户明确回复一些信息如:是否已经按照上面操作对数据库进行了完整备份？(yes/no)
b.据此判断是否进行下一步操作，当回复yes，则对选中实例对应的配置文件进行备份后改写。改写到迁移到的新位置。至于新位置的确定，请在必要的时候询问客户，但是需要在提问之前，将磁盘及分区的关系像lsblk + df-h那样展现给客户，供客户决策参考。通常目录可能是一个较大的独立磁盘分区如/data 或是默认策略安装的较大的但占用率极低的/home 目录下。
c.对数据库实例的目录向新选定的目录进行复制，确保没有遗漏，并且考虑到其里面的（如果存在)socket，pid,log文件等。这一过程要确保拷贝完整，要具备失败后可以重新开始的设计。如开始执行时候产生一个不可能重复的hash值，进度和已经确认的结果保存至日志中记账。程序异常退出导致没有完成拷贝，则可以通过在 yes 参数后增加这个hash值后继续对未完成工作进行继续。
d.改写服务配置或必要配置文件以确保服务再次启动时候指向的实例对应为新目录。
4) 对迁移过程进行总结汇报。如拷贝了那些文件，修改了哪些文件。系统中其他实例的情况等。
5) 生成命令用以清理该实例的旧（位置的）文件，该命令包含删除操作，所以需要客户自行操作。
当然，这个脚本的前提是操作系统没有默认的mysql实例迁移工具或机制。我们没必要重复造轮子。
